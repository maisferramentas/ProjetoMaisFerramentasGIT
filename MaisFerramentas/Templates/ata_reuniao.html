<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Divs Arrastáveis</title>
    <style>
      /* .draggable {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 5px;
        /* cursor: move; 
      } */

      .dragging {
        opacity: 0.5;
      }

      .flex {
        display: flex;
      }
      .column {
        flex-direction: column;
      }
      .row {
        flex-direction: row;
      }
      .tamanho {
        width: 360px;
      }
      .div_img_icone {
        display: flex;
        border-radius: 50px;
        width: 50px;
        height: 50px;
        border: 1px solid black;
        background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSUb-j_tc0tQGYF8zBywQ2MXUFuh0PoqNWUL4qu8lTShtqo7IhFRBZhOlVmM1dKN0ospPs&usqp=CAU");
        background-size: 62px;
        background-repeat: no-repeat;
        background-position: -6px 4px;
        margin-right: 8px;
        /* background-color: rgba(255, 255, 255, 9.9); */
      }
      .div_img_icone_2 {
        display: flex;
        border-radius: 50px;
        width: 40px;
        height: 40px;
        border: 1px solid black;
        background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSUb-j_tc0tQGYF8zBywQ2MXUFuh0PoqNWUL4qu8lTShtqo7IhFRBZhOlVmM1dKN0ospPs&usqp=CAU");
        background-size: 50px;
        background-repeat: no-repeat;
        background-position: -5px 4px;
        margin-right: 8px;
        /* background-color: rgba(255, 255, 255, 9.9); */
      }

      .div_img_icone_whats {
        display: flex;
        border-radius: 50px;
        width: 31px;
        height: 31px;
        margin-right: -10px;
      }
      .justify {
        justify-content: center;
      }
      .align {
        align-items: center;
      }
      .direita {
        margin-left: auto;
      }
      #area_arrastavel {
        min-height: 100px; /* altura mínima para permitir arrastar até o final */
      }

      .img_icones {
        display: flex;
        border-radius: 50px;
        width: 60px;
        height: 60px;
        margin-left: -23px;
      }

      .campo_texto {
        width: 100%;
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 5px;
        border-color: #57afc5;
        font-size: medium;
        /* -webkit-text-fill-color: #002344; */
        /* width: 17rem; */
      }

      .campo_texto:focus {
        outline: none;
        border-color: #007bff;
      }
      .campo_titulo {
        font-weight: bold;
      }
      .div_card {
        max-width: 400px;
        /* margin: 0 auto; */
        background-color: #fff;
        /* padding: 20px;
        padding: 20px 3px 20px 10px; */
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        margin-bottom: 15px;
        min-width: 370px;
        position: relative;
        padding-bottom: 20px;
        padding-top: 20px;
        /* background-image: url("https://lh3.googleusercontent.com/drive-viewer/AKGpihYyk0w71rkdxsX1nZGLb0tCDQMcs9lpk4rLuS-B8gYTS0f93dlBY0gTohCK9qdi3sivw0lzHJ354Eu2J5UncWzPGyYH=w1366-h382");
        background-repeat: no-repeat; */
        /* background-color: rgba(255, 255, 255, 9.9); */
        /* background-position: -60px 135px; */
      }
      .left_3px {
        margin-left: 3px;
      }

      .div_card_info_adicionais {
        /* max-height: 0px;
        overflow: hidden;
        transition: max-height 0.3s ease-in-out; */
        display: none;
      }
      .img_canto {
        height: 5px;
        width: 57px;
        border-radius: 8px; /*8px 0px 0px 8px*/
        position: absolute; /* Para posicionar a imagem corretamente */
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100%;
        /* width: 100%; */
        /* height: calc(100% - 40px); */
      }
      .esquerda_15 {
        margin-left: 28px;
      }

      .margin_m4px {
        margin-left: -4px;
      }
      .icone_opcoes {
        display: none;
      }
      .div_opcoes_card {
        background: linear-gradient(
          to right,
          #bcdee7,
          #66b7ca,
          #50acc3,
          #0e94b4
        );
        border-radius: 100px 0px 0px 100px;
        background-size: 100% 0%;
        transition: background-size 1s ease;
      }

      /* .div_opcoes_card:hover {
        background-size: 100% 100%;
      } */

      .arrasto {
        background: #51acc3;
        border-radius: 50px 0px 0px 50px;
        padding-top: 10px;
        padding-bottom: 10px;
      }
      .copiar {
        padding-top: 5px;
      }

      .delete {
        padding-bottom: 5px;
      }
      .dropdown {
        position: relative;
        display: inline-block;
        max-width: 230px;
      }

      .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        z-index: 1;
        min-width: 160px;
        padding: 12px;
        overflow-y: auto;
        max-height: 200px;
        max-width: 240px;
      }

      .dropdown-content a {
        color: #002b52;
        text-decoration: none;
        display: block;
        cursor: pointer;
        max-height: 50px;
        width: 240px;
        margin-bottom: 8px;
      }

      .dropdown-content a:hover {
        /* background-color: #bcdfe8; */
        color: #00539e;
      }

      .area_texto {
        overflow-y: hidden; /* Para ocultar a barra de rolagem vertical */
        resize: none; /* Para evitar que o usuário redimensione manualmente */
        border: 1px solid #ccc;
        border-radius: 5px;
        border-color: #57afc5;
        padding: 5px;
        font-family: Arial, sans-serif;
        font-size: medium;
        height: 19px;
        width: 228px;
        color: #002b52;
      }

      .area_texto:focus {
        border-color: #007bff;
        outline: 0;
      }
      .left_55px {
        margin-left: 55px;
      }
      .insere_titulo {
        overflow-y: hidden; /* Para ocultar a barra de rolagem vertical */
        resize: none; /* Para evitar que o usuário redimensione manualmente */
        border: 1px solid #ccc;
        border-radius: 5px;
        /* border-color: #57afc5; */
        padding: 5px;
        font-family: Arial, sans-serif;
        font-size: medium;
        height: 19px;
        width: 228px;
        color: #002b52;
        /* border-color: #007bff; */
        color: black;
        font-weight: bold;
      }
      .insere_titulo:focus {
        /* border-color: #007bff; */
        outline: 0;
      }
      .insere_tipo {
        border: 1px solid #ccc;
        border-radius: 5px;
        border-color: #57afc5;
        padding: 5px;
        font-family: Arial, sans-serif;
        font-size: medium;
        height: 30.6px;
        width: 239.6px;
        color: #002b52;
        border-color: #57afc5;
        /* color: black; */
        /* font-weight: bold; */

        appearance: none; /* Remove a aparência padrão do navegador */
        -webkit-appearance: none;
        -moz-appearance: none;

        cursor: pointer; /* Cursor ao passar por cima */
        background-color: #ffffff;
        margin-bottom: 10px;
      }
      .insere_tipo:focus-visible {
        border-color: #57afc5;
      }
      .insere_tipo:hover {
        border-color: #57afc5;
      }
      .left_50px {
        margin-left: 50px;
      }

      .margin_l-1px {
        margin-left: -1px;
      }
      .color_green {
        color: green;
      }
      .botao_salvar_novo_card {
        background-color: #319857; /* Cor de fundo */
        color: #fff; /* Cor do texto */
        padding: 5px 10px; /* Espaçamento interno */
        font-size: 16px; /* Tamanho da fonte */
        border: none; /* Sem borda */
        border-radius: 5px; /* Borda arredondada */
        cursor: pointer; /* Cursor do mouse */
        transition: background-color 0.3s; /* Transição suave da cor de fundo */
        margin-left: 5px;
      }
      .botao_fechar_novo_card {
        background-color: #af2d16; /* Cor de fundo */
        color: #fff; /* Cor do texto */
        padding: 5px 10px; /* Espaçamento interno */
        font-size: 16px; /* Tamanho da fonte */
        border: none; /* Sem borda */
        border-radius: 5px; /* Borda arredondada */
        cursor: pointer; /* Cursor do mouse */
        transition: background-color 0.3s; /* Transição suave da cor de fundo */
      }
      .div_botoes_salvar_fechar {
        margin-top: 10px;
        /* padding: 5px; */
      }
      .data_hora_anuncio {
        border: 1px solid #ccc;
        border-radius: 5px;
        border-color: #57afc5;
        /* padding: 5px; */
        font-family: Arial, sans-serif;
        font-size: medium;
        height: 30.6px;
        width: 239.6px;
        color: #002b52;
        border-color: #57afc5;
        /* color: black; */
        /* font-weight: bold; */

        appearance: none; /* Remove a aparência padrão do navegador */
        -webkit-appearance: none;
        -moz-appearance: none;

        cursor: pointer; /* Cursor ao passar por cima */
        background-color: #ffffff;
        margin-bottom: 10px;
      }
      .data_hora_card {
        border: 1px solid #ccc;
        border-radius: 5px;
        border-color: #57afc5;
        font-family: Arial, sans-serif;
        font-size: medium;
        /* height: 30.6px; */
        color: #002b52;
        border-color: #57afc5;

        appearance: none; /* Remove a aparência padrão do navegador */
        -webkit-appearance: none;
        -moz-appearance: none;

        cursor: pointer; /* Cursor ao passar por cima */
        background-color: #ffffff;
        border: none;
        outline: none;
      }

      .data_hora_card:focus-visible {
        border: none;
      }
      .diaSemana {
        font-family: Arial, sans-serif;
        font-size: medium;
        height: 30.6px;
        /* width: 239.6px; */
        color: #002b52;
        cursor: pointer; /* Cursor ao passar por cima */
        background-color: #ffffff;
        border: none;
        display: flex;
        margin-left: -5px;
        align-items: center;
        /* font-size: 12px; */
      }
      .caixa_data_hora_card {
        border: 1px solid #ccc;
        border-radius: 5px;
        border-color: #57afc5;
        /* padding: 5px; */
        font-family: Arial, sans-serif;
        font-size: medium;
        height: 30.6px;
        width: 239.6px;
        color: #002b52;
        border-color: #57afc5;
        /* color: black; */
        /* font-weight: bold; */

        appearance: none; /* Remove a aparência padrão do navegador */
        -webkit-appearance: none;
        -moz-appearance: none;

        cursor: pointer; /* Cursor ao passar por cima */
        background-color: #ffffff;
      }
      .tamanho_data_card {
        width: 120px;
      }
      .margin-left-1-2px {
        margin-left: -1.2px;
      }
    </style>
  </head>
  <body>
    <div class="">
      <div class="adicionar_elementos">
        <div
          class="flex align justify column"
          style="border: 1px solid #57afc5"
        >
          <h2>Adicionar Elementos</h2>
          <div class="div_card draggable flex align" draggable="true" id="1">
            <img
              draggable="false"
              class="img_canto"
              src="https://lh3.googleusercontent.com/drive-viewer/AKGpihYyk0w71rkdxsX1nZGLb0tCDQMcs9lpk4rLuS-B8gYTS0f93dlBY0gTohCK9qdi3sivw0lzHJ354Eu2J5UncWzPGyYH=w1366-h382"
              alt=""
            />
            <div class="div_card_info flex column left_50px dropdown">
              <div class="elemento flex row justify align">
                <div class="flex column">
                  <textarea
                    id="nome"
                    class="insere_titulo margin_l-1px"
                    rows="1"
                    spellcheck="false"
                    placeholder="Título:"
                  ></textarea>
                  <div id="myDropdown" class="dropdown-content"></div>

                  <div class="flex column">
                    <select name="" id="" class="insere_tipo">
                      <option value="">Texto livre</option>
                      <option value="">Data</option>
                      <option value="">Hora</option>
                      <option value="">Nomes</option>
                      <option value="">Chamados</option>
                      <option value="">Hinos</option>
                    </select>
                  </div>
                </div>
                <span
                  class="material-symbols-outlined"
                  id="deleta_elemento_inserir_card"
                >
                  delete
                </span>
              </div>
              <div
                id="adicionar_elemento"
                class="flex row align justify color_green"
              >
                <span class="material-symbols-outlined"> add </span>
                <p>Adicionar Elemento</p>
              </div>

              <div class="div_card_info_adicionais flex column">
                <!-- <label for="" class="campo_titulo">Tema: </label>
                <input type="text" name="" id="" class="campo_texto" /> -->

                <div
                  class="flex row align justify color_green"
                  id="adicionar_elemento_oculto"
                >
                  <span class="material-symbols-outlined"> add </span>
                  <p>Adicionar Elemento Oculto</p>
                </div>
              </div>
              <div class="div_botoes_salvar_fechar flex row align justify">
                <input
                  class="botao_fechar_novo_card"
                  type="button"
                  value="Fechar"
                />

                <input
                  class="botao_salvar_novo_card"
                  type="button"
                  value="Salvar"
                />
              </div>
            </div>

            <div class="div_opcoes_card flex direita column">
              <span
                class="material-symbols-outlined esquerda_15 icone_opcoes copiar"
              >
                content_copy
              </span>

              <div class="div_opcoes_meio_card flex align">
                <img
                  class="div_img_icone_whats icone_opcoes"
                  src="https://www.shareicon.net/data/2048x2048/2016/07/14/607292_black_2048x2048.png"
                  alt=""
                />
                <span class="material-symbols-outlined direita arrasto">
                  drag_indicator
                </span>
              </div>
              <span
                class="material-symbols-outlined esquerda_15 icone_opcoes delete"
              >
                delete
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="conteudo_ata flex align justify">
        <div class="" id="area_arrastavel">
          <div class="div_card draggable flex align" draggable="true" id="1">
            <img
              draggable="false"
              class="img_canto"
              src="https://lh3.googleusercontent.com/drive-viewer/AKGpihYyk0w71rkdxsX1nZGLb0tCDQMcs9lpk4rLuS-B8gYTS0f93dlBY0gTohCK9qdi3sivw0lzHJ354Eu2J5UncWzPGyYH=w1366-h382"
              alt=""
            />
            <div class="div_card_info flex column left_55px dropdown">
              <label for="" class="campo_titulo">Discursante: </label>
              <textarea
                id="nome"
                class="area_texto"
                rows="1"
                spellcheck="false"
              ></textarea>
              <div id="myDropdown" class="dropdown-content"></div>

              <div class="flex row align caixa_data_hora_card">
                <input
                  type="date"
                  name="data"
                  id="data"
                  class="data_hora_card tamanho_data_card"
                  oninput="mostrarDiaSemana()"
                />
                <div id="diaSemana" class="diaSemana"></div>
                <input
                  type="time"
                  name="hora"
                  id="hora"
                  class="data_hora_card margin-left-1-2px"
                />
              </div>

              <!-- <div class="flex row align caixa_data_hora_card">
                <input
                  type="date"
                  class="data_hora_card"
                  id="data"
                  oninput="mostrarDiaSemana()"
                />
                <input type="time" class="data_hora_card" />
                <div id="diaSemana" class="diaSemana"></div>
              </div> -->

              <div class="div_card_info_adicionais flex column">
                <label for="" class="campo_titulo">Tema: </label>
                <input type="text" name="" id="" class="campo_texto" />
                <label for="" class="campo_titulo">Duração: </label>
                <input type="text" name="" id="" class="campo_texto" />
              </div>
            </div>

            <div class="div_opcoes_card flex direita column">
              <span
                class="material-symbols-outlined esquerda_15 icone_opcoes copiar"
              >
                content_copy
              </span>

              <div class="div_opcoes_meio_card flex align">
                <img
                  class="div_img_icone_whats icone_opcoes"
                  src="https://www.shareicon.net/data/2048x2048/2016/07/14/607292_black_2048x2048.png"
                  alt=""
                />
                <span class="material-symbols-outlined direita arrasto">
                  drag_indicator
                </span>
              </div>
              <span
                class="material-symbols-outlined esquerda_15 icone_opcoes delete"
              >
                delete
              </span>
            </div>
          </div>

          <div class="div_card draggable flex align" draggable="true" id="2">
            <img
              draggable="false"
              class="img_canto"
              src="https://lh3.googleusercontent.com/drive-viewer/AKGpihYyk0w71rkdxsX1nZGLb0tCDQMcs9lpk4rLuS-B8gYTS0f93dlBY0gTohCK9qdi3sivw0lzHJ354Eu2J5UncWzPGyYH=w1366-h382"
              alt=""
            />
            <div class="div_card_info flex column left_55px dropdown">
              <label for="" class="campo_titulo">Hino: </label>
              <!-- <input
                type="text"
                name=""
                id="searchInput"
                class="campo_texto"
                onkeyup="buscar_valores()"
              />
              <div id="myDropdown" class="dropdown-content"></div> -->

              <textarea
                id="hino"
                class="area_texto"
                rows="1"
                spellcheck="false"
              ></textarea>
              <div id="myDropdown" class="dropdown-content"></div>
              <div class="div_card_info_adicionais flex column">
                <!-- <label for="" class="campo_titulo">Tema: </label>
            <input type="text" name="" id="" class="campo_texto" />
            <label for="" class="campo_titulo">Duração: </label>
            <input type="text" name="" id="" class="campo_texto" /> -->
              </div>
            </div>

            <div class="div_opcoes_card flex direita column">
              <span
                class="material-symbols-outlined esquerda_15 icone_opcoes copiar"
              >
                content_copy
              </span>

              <div class="div_opcoes_meio_card flex align">
                <img
                  class="div_img_icone_whats icone_opcoes"
                  src="https://www.shareicon.net/data/2048x2048/2016/07/14/607292_black_2048x2048.png"
                  alt=""
                />
                <span class="material-symbols-outlined direita arrasto">
                  drag_indicator
                </span>
              </div>
              <span
                class="material-symbols-outlined esquerda_15 icone_opcoes delete"
              >
                delete
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> -->
    <script>
      $(document).ready(function () {
        $(".draggable").on("dragstart", function (e) {
          e.originalEvent.dataTransfer.setData("text/plain", e.target.id);
          setTimeout(() => {
            e.target.classList.add("dragging");
          }, 0);
        });

        $("#area_arrastavel").on("dragover", function (e) {
          e.preventDefault();
          const afterElement = getDragAfterElement(
            $("#area_arrastavel"),
            e.clientY
          );
          const draggable = $(".dragging");
          if (afterElement == null) {
            $("#area_arrastavel").append(draggable);
          } else {
            $(draggable).insertBefore(afterElement);
          }
        });

        $(".draggable").on("drop", function (e) {
          const id = e.originalEvent.dataTransfer.getData("text/plain");
          const draggable = $("#" + id);
          const afterElement = getDragAfterElement(
            $("#area_arrastavel"),
            e.clientY
          );
          if (afterElement == null) {
            $("#area_arrastavel").append(draggable);
          } else {
            $(draggable).insertBefore(afterElement);
          }
          reorganizeIDs();
          $(draggable).removeClass("dragging"); // Remover a classe "dragging" após soltar o elemento
        });
      });

      function getDragAfterElement(area_arrastavel, y) {
        const draggableElements = $(".draggable:not(.dragging)").toArray();
        return draggableElements.reduce(
          (closest, child) => {
            const box = $(child).offset();
            const offset = y - box.top - $(child).outerHeight() / 2;
            if (offset < 0 && offset > closest.offset) {
              return { offset: offset, element: child };
            } else {
              return closest;
            }
          },
          { offset: Number.NEGATIVE_INFINITY }
        ).element;
      }

      function reorganizeIDs() {
        $(".draggable").each(function (index) {
          $(this).attr("id", index + 1);
        });
      }

      $(".draggable").on("dragend", function (e) {
        $(this).removeClass("dragging"); // Remover a classe "dragging" ao finalizar o arrastar
      });

      $(".arrasto").on("click", function () {
        conteudo_div_selecionada = this.closest(".div_card");

        if (this.id === "" || this.id === "fechada") {
          conteudo_div_selecionada.querySelector(
            ".div_card_info_adicionais"
          ).style.display = "flex";

          conteudo_div_selecionada
            .querySelectorAll(".icone_opcoes")
            .forEach(function (element) {
              element.style.display = "flex";
            });

          conteudo_div_selecionada.querySelector(".arrasto").style.background =
            " #fff";

          conteudo_div_selecionada.querySelector(
            ".div_opcoes_card"
          ).style.backgroundSize = "100% 100%";

          this.id = "aberta";
        } else {
          conteudo_div_selecionada.querySelector(
            ".div_card_info_adicionais"
          ).style.display = "none";

          conteudo_div_selecionada
            .querySelectorAll(".icone_opcoes")
            .forEach(function (element) {
              element.style.display = "none";
            });

          conteudo_div_selecionada.querySelector(
            ".div_opcoes_card"
          ).style.backgroundSize = "100% 0%";

          conteudo_div_selecionada.querySelector(".arrasto").style.background =
            "#51acc3";

          this.id = "fechada";
        }
      });

      const names = [
        "Allysson Wyllian Santos Gomes",
        "Julia de Salles Gomes",
        "Cecília de Salles Gomes",
        "David",
        "Eve",
        "Angela Maria Massaneiro dos Santos Cruz",
      ];

      const hinos = [
        "2. Tal Como um Facho",
        "3. Alegres Cantemos",
        "4. No Monte a Bandeira",
        "5. Israel, Jesus Te Chama",
        "9. Graças Damos, Ó Deus, Por um Profeta",
      ];

      function buscar_valores(caixa_texto_id) {
        const input = caixa_texto_id;
        input.style.color = "#002b52";
        const filter = input.value.toLowerCase();
        const dropdown =
          caixa_texto_id.parentElement.querySelector(".dropdown-content");
        dropdown.innerHTML = "";
        texto_digitado_invalido = true;

        dropdown.style.display = "block"; //comentar na opção 1

        if (input.id === "nome") {
          valores = names;
        } else if (input.id === "hino") {
          valores = hinos;
        } else if (input.id === "chamado") {
          valores = chamados;
        }
        valores.forEach((valor) => {
          if (valor.toLowerCase().includes(filter)) {
            input.style.color = "#002b52";
            const nameElement = document.createElement("a");
            nameElement.textContent = valor;
            nameElement.onclick = function () {
              input.value = valor;
              dropdown.style.display = "none";
              ajusta_altura_area_texto(caixa_texto_id);
            };
            dropdown.appendChild(nameElement);
            texto_digitado_invalido = false;
            // teste = `<a>Angela Maria Massaneiro dos Santos Cruz</a>
            // <a>Feminino</a>
            // <a>50anos</a>`;
            // dropdown.innerHTML = teste;
          }
        });

        if (texto_digitado_invalido && filter !== "") {
          input.style.color = "#9a0909";
          dropdown.style.display = "none";
          dropdown.innerHTML = "";
        }

        // if (texto_digitado_invalido && filter !== "") {
        //   input.style.color = "red";
        //   const texto_digitado_invalidoElement = document.createElement("a");
        //   texto_digitado_invalidoElement.textContent = input.value;
        //   texto_digitado_invalidoElement.style.color = "red";
        //   texto_digitado_invalidoElement.onclick = function () {
        //     input.value = this.textContent;
        //     dropdown.style.display = "none";
        //   };
        //   dropdown.appendChild(texto_digitado_invalidoElement);
        // }

        if (filter === "") {
          dropdown.style.display = "none";
        } else {
          // dropdown.style.display = "block";
        }
      }

      // // Fechar dropdown e limpar input quando clicar fora do dropdown
      window.addEventListener("click", function (event) {
        if (
          !event.target.matches(".dropdown") &&
          !event.target.matches(".dropdown a") &&
          !event.target.matches(".area_texto")
        ) {
          // document.getElementById("myDropdown").style.display = "none";
          document
            .querySelectorAll(".dropdown-content")
            .forEach(function (element) {
              if (
                element.style.display != "none" &&
                element.style.display != ""
              ) {
                element.style.display = "none";
                if (!valor_texto) {
                  element.parentElement.querySelector(
                    ".area_texto"
                  ).style.color = "#9a0909";
                }
              }

              // document.getElementById("searchInput").style.color = "#9a0909";
              // element.parentElement.querySelector("area_texto").style.color =
              //   "#9a0909";
            });
        }
      });

      document.querySelectorAll(".area_texto").forEach(function (element) {
        element.addEventListener("input", ajusta_altura_area_texto);
      });

      function ajusta_altura_area_texto(caixa_texto_id) {
        valor_texto = false;
        if (event.type === "click") {
          //clicou
          area_texto = caixa_texto_id;
          valor_texto = true;
        } else {
          //digitou
          area_texto = this;
        }

        area_texto.style.height = "19px";
        area_texto.style.height = area_texto.scrollHeight - 10 + "px";

        conteudo_div_selecionada = area_texto.closest(".div_card");

        conteudo_div_selecionada.querySelector(".img_canto").style.height =
          "100%";

        if (event.type === "input") {
          caixa_texto_id = area_texto;
          buscar_valores(caixa_texto_id);
        }
      }

      function adicionarElemento(divInfoAdicionais, elementoReferencia) {
        // Criar o HTML dos elementos que você deseja adicionar
        var novoHTML = `
              <div class="elemento flex row justify align">
                <div class="flex column">
                  <textarea
                    id="nome"
                    class="insere_titulo margin_l-1px"
                    rows="1"
                    spellcheck="false"
                    placeholder="Título:"
                  ></textarea>
                  <div id="myDropdown" class="dropdown-content"></div>

                  <div class="flex column">
                    <select name="" id="" class="insere_tipo">
                      <option value="">Texto livre</option>
                      <option value="">Data</option>
                      <option value="">Hora</option>
                      <option value="">Nomes</option>
                      <option value="">Chamados</option>
                      <option value="">Hinos</option>
                    </select>
                  </div>
                </div>
                <span
                  class="material-symbols-outlined"
                  id="deleta_elemento_inserir_card"
                >
                  delete
                </span>
              </div>
    `;

        // Criar um novo elemento div
        var novoElemento = document.createElement("div");
        novoElemento.innerHTML = novoHTML;

        // Inserir o novo elemento antes do elemento de referência
        divInfoAdicionais.insertBefore(novoElemento, elementoReferencia);
        atualiza_ouvintes();
      }

      document
        .querySelector("#adicionar_elemento_oculto")
        .addEventListener("click", function () {
          var divInfoAdicionais = this.closest(".div_card").querySelector(
            ".div_card_info_adicionais"
          );
          var elementoReferencia = this;
          adicionarElemento(divInfoAdicionais, elementoReferencia);
        });

      document
        .querySelector("#adicionar_elemento")
        .addEventListener("click", function () {
          var divInfoAdicionais =
            this.closest(".div_card").querySelector(".div_card_info");
          var elementoReferencia = this;
          adicionarElemento(divInfoAdicionais, elementoReferencia);
        });

      function excluir_elemento_form_criacao() {
        this.closest(".elemento").remove();
      }

      function atualiza_ouvintes() {
        document
          .querySelectorAll("#deleta_elemento_inserir_card")
          .forEach(function (element) {
            element.addEventListener("click", excluir_elemento_form_criacao);
          });
      }
      atualiza_ouvintes();

      document
        .querySelector(".botao_salvar_novo_card")
        .addEventListener("click", salvar_novo_card);

      function salvar_novo_card() {
        console.log(this);
      }

      function mostrarDiaSemana() {
        // Obter os valores da data e hora
        var data = document.getElementById("data").value;
        // var hora = document.getElementById("hora").value;

        // Obter a data completa (incluindo hora) no formato 'YYYY-MM-DDTHH:MM'
        var dataHoraCompleta = data + "T" + "00:00";

        // Criar um objeto Date com a data e hora fornecidas
        var dataObj = new Date(dataHoraCompleta);

        // Array com os nomes dos dias da semana em português
        var diasSemana = [
          // "Domingo",
          // "Segunda-feira",
          // "Terça-feira",
          // "Quarta-feira",
          // "Quinta-feira",
          // "Sexta-feira",
          // "Sábado",
          ///////////////////
          // "Dom.",
          // "Seg.",
          // "Ter.",
          // "Qua.",
          // "Qui.",
          // "Sex.",
          // "Sáb.",
          ///////////////////
          // "Domingo",
          // "Segunda f.",
          // "Terça f.",
          // "Quarta f.",
          // "Quinta f.",
          // "Sexta f.",
          // "Sábado",
          "Domingo",
          "Seg.feira",
          "Ter.feira",
          "Qua.feira",
          "Qui.feira",
          "Sex.feira",
          "Sábado",
        ];

        // Obter o número do dia da semana (0 para Domingo, 1 para Segunda-feira, etc.)
        var numeroDiaSemana = dataObj.getDay();

        // Obter o nome do dia da semana usando o número obtido acima
        var nomeDiaSemana = diasSemana[numeroDiaSemana];

        // Exibir o nome do dia da semana na caixa de texto
        document.getElementById("diaSemana").textContent = nomeDiaSemana;
      }

      document.querySelectorAll("#data").forEach(function (element) {
        if (element.value === "") {
          element.valueAsDate = new Date();
          mostrarDiaSemana();
          document.getElementById("hora").value = "00:00";
        }
      });

      function atualiza_data_campo(element) {
        if (element.value === "") {
          element.valueAsDate = new Date();
        }
      }
    </script>
  </body>
</html>
